(()=>{"use strict";const e=e=>{let t=null,r=[];const c=(e,c)=>{c.isValidAttack(e)&&c.receiveAttack(e),r.push(e),t=!1},o=()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],n=e=>{const c=o();for(;!e.isValidAttack(c);)c=o;e.receiveAttack(c),r.push(c),t=!1};return{humanPlayerAttack:c,computerPlayerAttack:n,attack:"human"===e?c:n,isMyTurn:t,myAttacks:r}},t=()=>{const e=[],t=[],r=[],c=[];return(()=>{for(let t=0;t<10;t++){e[t]=[];for(let r=0;r<10;r++)e[t][r]=null}})(),{placeShip:(r,c)=>{const o=(e=>{let t=0,r=!1,c=e;return{hit:()=>(t+=1,t),isSunk:()=>(t===c&&(r=!0),r),hits:t,sunk:r,shipLength:c}})(c),[n,l]=r;for(let t=0;t<c;t++)if(null!==e[n][l+t])throw new Error("Cannot place ship on an occupied spot");for(let t=0;t<c;t++)e[n+t][l]=o;t.push(o)},grid:e,ships:t,receiveAttack:t=>{const[o,n]=t;null===e[o][n]?(r.push([o,n]),e[o][n]=0):(e[o][n].hit(),c.push([o,n]))},missedAttacks:r,successfulAttacks:c,allShipsSunk:()=>t.every((e=>e.isSunk())),isValidAttack:e=>{const[t,o]=e;for(const[e,r]of c)if(e===t&&r===o)return!1;for(const[e,c]of r)if(e===t&&c===o)return!1;return!0}}},r=(e("human"),e("computer"),t()),c=(t(),(e=>{const t=[5,4,3,3,2];let r=0;const c=o=>{const n=o.target.getAttribute("data-coordinate"),[l,s]=JSON.parse(n);e.placeShip([l,s],t[r]),r++,console.log(r),r>=t.length&&document.querySelector(".pre-board").removeEventListener("click",c)};return{createCells:e=>{const t=document.querySelector(e);t.style.gridTemplateColumns="repeat(10, 1fr)",t.style.gridTemplateRows="repeat(10, 1fr)";for(let e=0;e<100;e++){let r=document.createElement("div");r.className="cell";const c=e%10,o=Math.floor(e/10);r.setAttribute("data-coordinate",`[${c}, ${o}]`),t.insertAdjacentElement("beforeend",r)}},insertShip:()=>{document.querySelector(".pre-board").addEventListener("click",c)},closeModal:()=>{const e=document.querySelector(".begin"),t=document.querySelector(".welcomeScreen");e.addEventListener("click",(()=>{t.close()}))}}})(r));c.createCells(".pre-board"),c.createCells(".human"),c.createCells(".computer"),c.insertShip(),c.closeModal()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUdDLEdBQUdVLEVBQVlDLElBQ25DQSxJQUNBTyxRQUFRQyxJQUFJUixHQUVSQSxHQUFZRCxFQUFZaEIsUUFDUDBCLFNBQVNDLGNBQWMsY0FDL0JDLG9CQUFvQixRQUFTVixFQUN4QyxFQWdCTixNQUFPLENBQUNXLFlBN0NhQyxJQUNqQixNQUNNbEQsRUFBUThDLFNBQVNDLGNBQWNHLEdBQ3JDbEQsRUFBTW1ELE1BQU1DLG9CQUFzQixrQkFDbENwRCxFQUFNbUQsTUFBTUUsaUJBQW1CLGtCQUcvQixJQUFLLElBQUl2QyxFQUFJLEVBQUdBLEVBREZ3QyxJQUNleEMsSUFBSSxDQUM3QixJQUFJeUMsRUFBT1QsU0FBU1UsY0FBYyxPQUNsQ0QsRUFBS0UsVUFBWSxPQUNqQixNQUFNaEMsRUFBSVgsRUFUSyxHQVVUWSxFQUFJckIsS0FBS0MsTUFBTVEsRUFWTixJQVdmeUMsRUFBS0csYUFBYSxrQkFBbUIsSUFBSWpDLE1BQU1DLE1BQy9DMUIsRUFBTTJELHNCQUFzQixZQUFhSixFQUM3QyxHQStCaUJLLFdBYkYsS0FDRWQsU0FBU0MsY0FBYyxjQUMvQmMsaUJBQWlCLFFBQVMsRUFBcUIsRUFXM0JDLFdBUmQsS0FDZixNQUFNQyxFQUFRakIsU0FBU0MsY0FBYyxVQUMvQmlCLEVBQWdCbEIsU0FBU0MsY0FBYyxrQkFDN0NnQixFQUFNRixpQkFBaUIsU0FBUyxLQUM1QkcsRUFBY0MsT0FBTSxHQUN2QixFQUlSLEVJeENpQixDQUFPakMsSUFFekJHLEVBQVVjLFlBQVksY0FDdEJkLEVBQVVjLFlBQVksVUFDdEJkLEVBQVVjLFlBQVksYUFFdEJkLEVBQVV5QixhQUNWekIsRUFBVTJCLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvZG9tLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvbW9kdWxlcy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2R1bGVzL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvc2hpcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBldmVudHMgPSAoKGJvYXJkKSA9PiB7XG4gICAgY29uc3Qgc2hpcExlbmd0aHMgPSBbNSwgNCwgMywgMywgMl07XG4gICAgbGV0IHRoaXNTaGlwID0gMFxuXG4gICAgY29uc3QgY3JlYXRlQ2VsbHMgPSAoY29udGFpbmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSAxMFxuICAgICAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKVxuICAgICAgICBib2FyZC5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gYHJlcGVhdCgke2RpbWVuc2lvbnN9LCAxZnIpYDtcbiAgICAgICAgYm9hcmQuc3R5bGUuZ3JpZFRlbXBsYXRlUm93cyA9IGByZXBlYXQoJHtkaW1lbnNpb25zfSwgMWZyKWA7XG4gICAgXG4gICAgICAgIGxldCBudW1EaXZzID0gZGltZW5zaW9ucyAqIGRpbWVuc2lvbnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRGl2czsgaSsrKXtcbiAgICAgICAgICAgIGxldCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IFxuICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnY2VsbCdcbiAgICAgICAgICAgIGNvbnN0IHggPSBpICUgZGltZW5zaW9uczsgLy8gQ2FsY3VsYXRlIHggY29vcmRpbmF0ZVxuICAgICAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoaSAvIGRpbWVuc2lvbnMpOyAvLyBDYWxjdWxhdGUgeSBjb29yZGluYXRlXG4gICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnZGF0YS1jb29yZGluYXRlJywgYFske3h9LCAke3l9XWApXG4gICAgICAgICAgICBib2FyZC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgY2VsbClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJldHJpZXZlQ29vcmRpbmF0ZXMgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2xpY2tlZENlbGwgPSBldmVudC50YXJnZXRcbiAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSBjbGlja2VkQ2VsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29vcmRpbmF0ZScpXG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IEpTT04ucGFyc2UoY29vcmRpbmF0ZXMpXG4gICAgICAgIFxuICAgICAgICBib2FyZC5wbGFjZVNoaXAoW3gsIHldLHNoaXBMZW5ndGhzW3RoaXNTaGlwXSlcbiAgICAgICAgdGhpc1NoaXArK1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzU2hpcClcblxuICAgICAgICBpZiAodGhpc1NoaXAgPj0gc2hpcExlbmd0aHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmUtYm9hcmQnKTtcbiAgICAgICAgICAgIHByZUJvYXJkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmV0cmlldmVDb29yZGluYXRlcyk7XG4gICAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGluc2VydFNoaXAgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZS1ib2FyZCcpXG4gICAgICAgIHByZUJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKHJldHJpZXZlQ29vcmRpbmF0ZXMpKVxuICAgIH1cblxuICAgIGNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJlZ2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJlZ2luJylcbiAgICAgICAgY29uc3Qgd2VsY29tZVNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWxjb21lU2NyZWVuJylcbiAgICAgICAgYmVnaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB3ZWxjb21lU2NyZWVuLmNsb3NlKClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4ge2NyZWF0ZUNlbGxzLCBpbnNlcnRTaGlwLCBjbG9zZU1vZGFsfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGV2ZW50cyIsImNvbnN0IHBsYXllckZhY3RvcnkgPSAocGxheWVyVHlwZSkgPT4ge1xuICAgIGxldCBpc015VHVybiA9IG51bGxcbiAgICBsZXQgbXlBdHRhY2tzID0gW11cblxuICAgIGNvbnN0IGh1bWFuUGxheWVyQXR0YWNrID0gKGNvb3JkaW5hdGVzLCBib2FyZCkgPT4ge1xuICAgICAgICBpZiAoYm9hcmQuaXNWYWxpZEF0dGFjayhjb29yZGluYXRlcykpe1xuICAgICAgICAgICAgYm9hcmQucmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcylcbiAgICAgICAgfVxuICAgICAgICBteUF0dGFja3MucHVzaChjb29yZGluYXRlcylcbiAgICAgICAgaXNNeVR1cm4gPSBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGdldFJhbmRvbUNvb3JkaW5hdGVzID0gKCkgPT4ge1xuICAgICAgICBsZXQgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKVxuICAgICAgICBsZXQgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKVxuICAgICAgICByZXR1cm4gW3gsIHldXG4gICAgfVxuXG4gICAgY29uc3QgY29tcHV0ZXJQbGF5ZXJBdHRhY2sgPSAoYm9hcmQpID0+IHtcbiAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSBnZXRSYW5kb21Db29yZGluYXRlcygpXG4gICAgICAgIHdoaWxlKCFib2FyZC5pc1ZhbGlkQXR0YWNrKGNvb3JkaW5hdGVzKSl7XG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IGdldFJhbmRvbUNvb3JkaW5hdGVzXG4gICAgICAgIH1cbiAgICAgICAgYm9hcmQucmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcylcbiAgICAgICAgbXlBdHRhY2tzLnB1c2goY29vcmRpbmF0ZXMpXG4gICAgICAgIGlzTXlUdXJuID0gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBhdHRhY2sgPSBwbGF5ZXJUeXBlID09PSBcImh1bWFuXCIgPyBodW1hblBsYXllckF0dGFjayA6IGNvbXB1dGVyUGxheWVyQXR0YWNrO1xuXG4gICAgcmV0dXJue2h1bWFuUGxheWVyQXR0YWNrLCBjb21wdXRlclBsYXllckF0dGFjaywgYXR0YWNrLCBpc015VHVybixcbiAgICAgICAgICAgbXlBdHRhY2tzfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwbGF5ZXJGYWN0b3J5XG4vL21vZHVsZS5leHBvcnRzID0gcGxheWVyRmFjdG9yeSIsImltcG9ydCBzaGlwRmFjdG9yeSBmcm9tICcuL3NoaXBzJ1xuXG5jb25zdCBnYW1lYm9hcmRGYWN0b3J5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGdyaWQgPSBbXVxuICAgIGNvbnN0IHNoaXBzID0gW11cbiAgICBjb25zdCBtaXNzZWRBdHRhY2tzID0gW11cbiAgICBjb25zdCBzdWNjZXNzZnVsQXR0YWNrcyA9IFtdXG5cbiAgICBjb25zdCBwb3B1bGF0ZUdyaWQgPSAoKSA9PiB7XG4gICAgICAgIGxldCByb3dzID0gMTBcbiAgICAgICAgbGV0IGNvbHMgPSAxMFxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKXtcbiAgICAgICAgICAgIGdyaWRbaV0gPSBbXTtcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBjb2xzOyBqKyspe1xuICAgICAgICAgICAgICAgIGdyaWRbaV1bal0gPSBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwbGFjZVNoaXAgPSAoY29vcmRpbmF0ZXMsIHNoaXBMZW5ndGgpID0+IHtcbiAgICAgICAgY29uc3Qgc2hpcCA9IHNoaXBGYWN0b3J5KHNoaXBMZW5ndGgpXG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IGNvb3JkaW5hdGVzO1xuICAgICAgICBcbiAgICAgICAgZm9yKGxldCBpID0wOyBpIDwgc2hpcExlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGlmKGdyaWRbeF1beSArIGldICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwbGFjZSBzaGlwIG9uIGFuIG9jY3VwaWVkIHNwb3QnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBncmlkW3ggKyBpXVt5XSA9IHNoaXA7XG4gICAgICAgIH1cblxuICAgICAgICBzaGlwcy5wdXNoKHNoaXApXG4gICAgfVxuXG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb29yZGluYXRlcykgPT4ge1xuICAgICAgICBjb25zdCBbeCx5XSA9IGNvb3JkaW5hdGVzXG4gICAgICAgIGlmKGdyaWRbeF1beV0gPT09IG51bGwpe1xuICAgICAgICAgICAgbWlzc2VkQXR0YWNrcy5wdXNoKFt4LHldKVxuICAgICAgICAgICAgZ3JpZFt4XVt5XSA9IDAgLy8wIHdpbGwgaW5kaWNhdGUgYSBncmlkIHBvc2l0aW9uIHRoYXQgd2FzIGF0dGFja2VkIGFuZCBtaXNzZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzaGlwID0gZ3JpZFt4XVt5XVxuICAgICAgICAgICAgc2hpcC5oaXQoKVxuICAgICAgICAgICAgc3VjY2Vzc2Z1bEF0dGFja3MucHVzaChbeCx5XSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFsbFNoaXBzU3VuayA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHNoaXBzLmV2ZXJ5KChzaGlwKSA9PiBzaGlwLmlzU3VuaygpKVxuICAgIH1cblxuICAgIGNvbnN0IGlzVmFsaWRBdHRhY2sgPSAoY29vcmRpbmF0ZXMpID0+IHtcbiAgICAgICAgY29uc3QgW3gsIHldID0gY29vcmRpbmF0ZXM7XG4gICAgICAgIGZvciAoY29uc3QgW2F0dGFja1gsIGF0dGFja1ldIG9mIHN1Y2Nlc3NmdWxBdHRhY2tzKSB7XG4gICAgICAgICAgICBpZiAoYXR0YWNrWCA9PT0geCAmJiBhdHRhY2tZID09PSB5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2F0dGFja1gsIGF0dGFja1ldIG9mIG1pc3NlZEF0dGFja3MpIHtcbiAgICAgICAgICAgIGlmIChhdHRhY2tYID09PSB4ICYmIGF0dGFja1kgPT09IHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZUdyaWQoKVxuXG4gICAgcmV0dXJue3BsYWNlU2hpcCwgZ3JpZCwgc2hpcHMsIHJlY2VpdmVBdHRhY2ssIFxuICAgICAgICBtaXNzZWRBdHRhY2tzLCBzdWNjZXNzZnVsQXR0YWNrcywgYWxsU2hpcHNTdW5rLCBpc1ZhbGlkQXR0YWNrfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVib2FyZEZhY3Rvcnlcbi8vbW9kdWxlLmV4cG9ydHMgPSBnYW1lYm9hcmRGYWN0b3J5IiwiY29uc3Qgc2hpcEZhY3RvcnkgPSAobGVuZ3RoKSA9PiB7XG4gICAgbGV0IGhpdHMgPSAwIFxuICAgIGxldCBzdW5rID0gZmFsc2VcbiAgICBsZXQgc2hpcExlbmd0aCA9IGxlbmd0aFxuXG4gICAgY29uc3QgaGl0ID0gKCkgPT4ge1xuICAgICAgICBoaXRzICs9IDFcbiAgICAgICAgcmV0dXJuIGhpdHNcbiAgICB9XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgICAgIGlmKGhpdHMgPT09IHNoaXBMZW5ndGgpe1xuICAgICAgICAgICAgc3VuayA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vua1xuICAgIH1cblxuICAgIHJldHVybiB7aGl0LCBpc1N1bmssIGhpdHMsIHN1bmssIHNoaXBMZW5ndGh9XG59XG5leHBvcnQgZGVmYXVsdCBzaGlwRmFjdG9yeVxuLy9tb2R1bGUuZXhwb3J0cyA9IHNoaXBGYWN0b3J5IiwiaW1wb3J0IGV2ZW50cyBmcm9tIFwiLi9tb2R1bGVzL2RvbVwiO1xuaW1wb3J0IHBsYXllckZhY3RvcnkgZnJvbSBcIi4vbW9kdWxlcy9wbGF5ZXJcIlxuaW1wb3J0IGdhbWVib2FyZEZhY3RvcnkgZnJvbSBcIi4vbW9kdWxlcy9nYW1lYm9hcmRcIlxuXG5jb25zdCBodW1hblBsYXllciA9IHBsYXllckZhY3RvcnkoJ2h1bWFuJylcbmNvbnN0IGFpUGxheWVyID0gcGxheWVyRmFjdG9yeSgnY29tcHV0ZXInKVxuXG5jb25zdCBodW1hbkdhbWVib2FyZCA9IGdhbWVib2FyZEZhY3RvcnkoKVxuY29uc3QgYWlHYW1lYm9hcmQgPSBnYW1lYm9hcmRGYWN0b3J5KClcblxuY29uc3QgZG9tRXZlbnRzID0gZXZlbnRzKGh1bWFuR2FtZWJvYXJkKVxuXG5kb21FdmVudHMuY3JlYXRlQ2VsbHMoJy5wcmUtYm9hcmQnKVxuZG9tRXZlbnRzLmNyZWF0ZUNlbGxzKCcuaHVtYW4nKVxuZG9tRXZlbnRzLmNyZWF0ZUNlbGxzKCcuY29tcHV0ZXInKVxuXG5kb21FdmVudHMuaW5zZXJ0U2hpcCgpXG5kb21FdmVudHMuY2xvc2VNb2RhbCgpIl0sIm5hbWVzIjpbInBsYXllclR5cGUiLCJpc015VHVybiIsIm15QXR0YWNrcyIsImh1bWFuUGxheWVyQXR0YWNrIiwiY29vcmRpbmF0ZXMiLCJib2FyZCIsImlzVmFsaWRBdHRhY2siLCJyZWNlaXZlQXR0YWNrIiwicHVzaCIsImdldFJhbmRvbUNvb3JkaW5hdGVzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29tcHV0ZXJQbGF5ZXJBdHRhY2siLCJhdHRhY2siLCJncmlkIiwic2hpcHMiLCJtaXNzZWRBdHRhY2tzIiwic3VjY2Vzc2Z1bEF0dGFja3MiLCJpIiwiaiIsInBvcHVsYXRlR3JpZCIsInBsYWNlU2hpcCIsInNoaXBMZW5ndGgiLCJzaGlwIiwibGVuZ3RoIiwiaGl0cyIsInN1bmsiLCJoaXQiLCJpc1N1bmsiLCJ4IiwieSIsIkVycm9yIiwiYWxsU2hpcHNTdW5rIiwiZXZlcnkiLCJhdHRhY2tYIiwiYXR0YWNrWSIsImh1bWFuR2FtZWJvYXJkIiwicGxheWVyIiwiZ2FtZWJvYXJkIiwiZG9tRXZlbnRzIiwic2hpcExlbmd0aHMiLCJ0aGlzU2hpcCIsInJldHJpZXZlQ29vcmRpbmF0ZXMiLCJldmVudCIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JlYXRlQ2VsbHMiLCJjb250YWluZXIiLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJncmlkVGVtcGxhdGVSb3dzIiwiZGltZW5zaW9ucyIsImNlbGwiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiaW5zZXJ0U2hpcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZU1vZGFsIiwiYmVnaW4iLCJ3ZWxjb21lU2NyZWVuIiwiY2xvc2UiXSwic291cmNlUm9vdCI6IiJ9